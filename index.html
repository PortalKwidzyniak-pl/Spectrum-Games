<!DOCTYPE html>
<html lang="en-gb">
<head>
    <!-- Google tag (gtag.js) -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-8NCBFW71FV"></script>
    <script>
        window.dataLayer = window.dataLayer || [];
        function gtag(){dataLayer.push(arguments);}
        gtag('js', new Date());

        gtag('config', 'G-8NCBFW71FV');
    </script>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="https://www.specgames.portalkwidzyniak.pl/elements/style.css">
    <link rel="icon" type="image/x-icon" href="https://www.specgames.portalkwidzyniak.pl/elements/favicon.ico">
    <title>Spectrum Games</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@400;700&display=swap" rel="stylesheet">
    <!-- Xsolla Login SDK -->
    <script src="https://login-sdk.xsolla.com/latest/">
    </script>
</head>
<body>
    <header>
        <h1>Spectrum Games</h1>
        <h3>Inferno - release date not published</h3>
    </header>
    <nav>
        <h3>Menu <a href="https://www.specgames.portalkwidzyniak.pl/index.html">Spectrum Games</a></h3><br>
        <div id="login-section">
            <!-- Login Button -->
            <button id="login-button" onclick="showFullscreen()">Login with Xsolla</button>
        </div>
    
        <!-- User Info Section (Initially hidden) -->
        <div id="user-info" style="display: none;">
            <h2>Welcome, <span id="username"></span>!</h2>
            <button onclick="logout()">Logout</button>
        </div>
    
        <script>
            // Initialize Xsolla Widget with your new projectId
            const xl = new XsollaLogin.Widget({
                projectId: 'fdc4f44b-e7f8-49ac-b742-10b8b84fb403',  // Your actual project ID
                preferredLocale: 'en_US'
            });
    
            xl.mount('login-section');  // Mount the login widget
    
            // Function to show login in fullscreen
            function showFullscreen() {
                xl.open();
            }
    
            // Check if user is logged in on page load
            function checkLoginStatus() {
                xl.getToken(function(token) {
                    if (token) {
                        // User is logged in
                        displayUserInfo();
                    } else {
                        // User is not logged in
                        displayLoginButton();
                    }
                });
            }
    
            // Display the user's information after login
            function displayUserInfo() {
                document.getElementById("login-section").style.display = "none";
                document.getElementById("user-info").style.display = "block";
                
                // Optionally, get user profile data (like username)
                xl.getUserDetails(function(user) {
                    if (user) {
                        document.getElementById("username").textContent = user.nickname || "User";
                    }
                });
            }
    
            // Display the login button if the user is not logged in
            function displayLoginButton() {
                document.getElementById("login-section").style.display = "block";
                document.getElementById("user-info").style.display = "none";
            }
    
            // Log the user out
            function logout() {
                xl.logout();
                displayLoginButton();
            }
    
            // Check login status on page load
            checkLoginStatus();
        </script>
        <ol>
            <li><a class="nava" href="https://www.specgames.portalkwidzyniak.pl/showcase.html">Games Showcase</a><br></li>
            <li><a class="nava" href="https://www.portalkwidzyniak.pl/">SpecGames host</a><br></li>
        </ol>
    </nav>
    <section class="container">
        <section class="left">
            <h2>Who we are?</h2>
            <h4>
                <p>Spectrum Games is a team of middle school developers that wants to make fun games</p>
            </h4>
        </section>
        <section class="right">
        </section>
    </section>
    <footer>
        <h3>More information at Discord lukseh74</h3>
    </footer>
</body>
</html>
