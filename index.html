<!DOCTYPE html>
<html lang="en-gb">
<head>
    <!-- Google tag (gtag.js) -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-8NCBFW71FV"></script>
    <script>
        window.dataLayer = window.dataLayer || [];
        function gtag(){dataLayer.push(arguments);}
        gtag('js', new Date());

        gtag('config', 'G-8NCBFW71FV');
    </script>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="https://www.specgames.portalkwidzyniak.pl/elements/style.css">
    <link rel="icon" type="image/x-icon" href="https://www.specgames.portalkwidzyniak.pl/elements/favicon.ico">
    <title>Spectrum Games</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@400;700&display=swap" rel="stylesheet">
    <!-- Xsolla Login SDK -->
    <script src="https://cdn.xsolla.net/xsolla-login-widget/sdk/2.2.6/xl.min.js"></script>
</head>
<body>
    <header>
        <h1>Spectrum Games</h1>
        <h3>Inferno - release date not published</h3>
    </header>
    <nav>
        <h3>Menu <a href="https://www.specgames.portalkwidzyniak.pl/index.html">Spectrum Games</a></h3><br>
        <button id="login-button">Login with Xsolla</button>
        <button id="logout-button" style="display:none;">Logout</button>

        <!-- User info display -->
            <div id="user-info" style="display:none;">
                <p id="user-name"></p>
            </div>
        <div id="login-section">
            <script>
                const loginButton = document.getElementById("login-button");
                const logoutButton = document.getElementById("logout-button");
                const userInfo = document.getElementById("user-info");
                const userName = document.getElementById("user-name");
            
                // Initialize Xsolla Login Widget
                const xl = new XsollaLogin.Widget({
                    projectId: 'fdc4f44b-e7f8-49ac-b742-10b8b84fb403', // Your actual project ID
                        callbackUrl: 'https://www.specgames.portalkwidzyniak.pl/',
                    preferredLocale: 'en_US'
                });
            
                // Mount the widget (if using a custom mount)
                xl.mount('xl_auth');
            
                // Show the login popup when the button is clicked
                loginButton.onclick = function() {
                    xl.open(); // Open the Xsolla login popup
                };
            
                // When the user logs in successfully, update the UI
                xl.on('login', function(user) {
                    console.log('User logged in:', user);
            
                    // Show user information
                    userName.textContent = `Welcome, ${user.displayName}`;  // Display the logged-in user's name
                    userInfo.style.display = 'block';  // Show the user info div
            
                    // Hide the login button and show the logout button
                    loginButton.style.display = 'none';
                    logoutButton.style.display = 'inline-block';
                });
            
                // When the user logs out, update the UI
                logoutButton.onclick = function() {
                    xl.logout();
                    userInfo.style.display = 'none';
                    loginButton.style.display = 'inline-block';
                    logoutButton.style.display = 'none';
                };
            </script>
        <ol>
            <li><a class="nava" href="https://www.specgames.portalkwidzyniak.pl/showcase.html">Games Showcase</a><br></li>
            <li><a class="nava" href="https://www.portalkwidzyniak.pl/">SpecGames host</a><br></li>
        </ol>
    </nav>
    <section class="container">
        <section class="left">
            <h2>Who we are?</h2>
            <h4>
                <p>Spectrum Games is a team of middle school developers that wants to make fun games</p>
            </h4>
        </section>
        <section class="right">
        </section>
    </section>
    <footer>
        <h3>More information at Discord lukseh74</h3>
    </footer>
</body>
</html>
